<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>PRODUCTION_GUIDE</title>
  <style>
html {
color: #1a1a1a;
background-color: #fdfdfd;
}
body {
margin: 0 auto;
max-width: 36em;
padding-left: 50px;
padding-right: 50px;
padding-top: 50px;
padding-bottom: 50px;
hyphens: auto;
overflow-wrap: break-word;
text-rendering: optimizeLegibility;
font-kerning: normal;
}
@media (max-width: 600px) {
body {
font-size: 0.9em;
padding: 12px;
}
h1 {
font-size: 1.8em;
}
}
@media print {
html {
background-color: white;
}
body {
background-color: transparent;
color: black;
font-size: 12pt;
}
p, h2, h3 {
orphans: 3;
widows: 3;
}
h2, h3, h4 {
page-break-after: avoid;
}
}
p {
margin: 1em 0;
}
a {
color: #1a1a1a;
}
a:visited {
color: #1a1a1a;
}
img {
max-width: 100%;
}
svg {
height: auto;
max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
margin-top: 1.4em;
}
h5, h6 {
font-size: 1em;
font-style: italic;
}
h6 {
font-weight: normal;
}
ol, ul {
padding-left: 1.7em;
margin-top: 1em;
}
li > ol, li > ul {
margin-top: 0;
}
blockquote {
margin: 1em 0 1em 1.7em;
padding-left: 1em;
border-left: 2px solid #e6e6e6;
color: #606060;
}
code {
font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
font-size: 85%;
margin: 0;
hyphens: manual;
}
pre {
margin: 1em 0;
overflow: auto;
}
pre code {
padding: 0;
overflow: visible;
overflow-wrap: normal;
}
.sourceCode {
background-color: transparent;
overflow: visible;
}
hr {
border: none;
border-top: 1px solid #1a1a1a;
height: 1px;
margin: 1em 0;
}
table {
margin: 1em 0;
border-collapse: collapse;
width: 100%;
overflow-x: auto;
display: block;
font-variant-numeric: lining-nums tabular-nums;
}
table caption {
margin-bottom: 0.75em;
}
tbody {
margin-top: 0.5em;
border-top: 1px solid #1a1a1a;
border-bottom: 1px solid #1a1a1a;
}
th {
border-top: 1px solid #1a1a1a;
padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
margin-bottom: 4em;
text-align: center;
}
#TOC li {
list-style: none;
}
#TOC ul {
padding-left: 1.3em;
}
#TOC > ul {
padding-left: 0;
}
#TOC a:not(:hover) {
text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}

html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
</head>
<body>
<h1 id="nutreeai-production-deployment-guide">NutreeAI Production
Deployment Guide</h1>
<h2 id="overview">üéØ Overview</h2>
<p>This guide provides comprehensive instructions for deploying NutreeAI
to production, including infrastructure setup, security configurations,
monitoring, and scaling considerations.</p>
<h2 id="pre-production-checklist">üìã Pre-Production Checklist</h2>
<h3 id="development-completion">‚úÖ Development Completion</h3>
<ul class="task-list">
<li><label><input type="checkbox"></input>All features implemented and
tested</label></li>
<li><label><input type="checkbox"></input>Code review completed</label></li>
<li><label><input type="checkbox"></input>Security audit
performed</label></li>
<li><label><input type="checkbox"></input>Performance testing
completed</label></li>
<li><label><input type="checkbox"></input>Documentation updated</label></li>
</ul>
<h3 id="infrastructure-requirements">‚úÖ Infrastructure Requirements</h3>
<ul class="task-list">
<li><label><input type="checkbox"></input>Production domain registered (e.g.,
nutreeai.com)</label></li>
<li><label><input type="checkbox"></input>SSL certificates
configured</label></li>
<li><label><input type="checkbox"></input>CDN setup for global
performance</label></li>
<li><label><input type="checkbox"></input>Database backup strategy
implemented</label></li>
<li><label><input type="checkbox"></input>Monitoring and alerting
configured</label></li>
</ul>
<h2 id="infrastructure-setup">üèóÔ∏è Infrastructure Setup</h2>
<h3 id="domain-and-dns-configuration">1. Domain and DNS
Configuration</h3>
<h4 id="primary-domain-setup">Primary Domain Setup</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure DNS records for main domain</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">nutreeai.com</span>                A     104.198.14.52</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">www.nutreeai.com</span>           CNAME  nutreeai.com</span></code></pre></div>
<h4 id="wildcard-subdomain-for-organizations">Wildcard Subdomain for
Organizations</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Enable organization-specific subdomains</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">*.nutreeai.com</span>             CNAME  nutreeai.com</span></code></pre></div>
<h4 id="ssl-certificate-setup">SSL Certificate Setup</h4>
<ul>
<li>Use Let‚Äôs Encrypt for automatic SSL renewal</li>
<li>Configure HTTPS redirects</li>
<li>Enable HSTS headers for security</li>
</ul>
<h3 id="netlify-production-configuration">2. Netlify Production
Configuration</h3>
<h4 id="build-settings">Build Settings</h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># netlify.toml</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">[</span><span class="at">build</span><span class="kw">]</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="at">  command = &quot;npm run build&quot;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  publish = &quot;dist&quot;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">[</span><span class="at">build.environment</span><span class="kw">]</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="at">  NODE_VERSION = &quot;18&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="at">  NPM_VERSION = &quot;9&quot;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="kw">[[</span><span class="at">redirects</span><span class="kw">]]</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="at">  from = &quot;/*&quot;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="at">  to = &quot;/index.html&quot;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="at">  status = 200</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="kw">[[</span><span class="at">headers</span><span class="kw">]]</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="at">  for = &quot;/*&quot;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">[</span><span class="at">headers.values</span><span class="kw">]</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="at">    X-Frame-Options = &quot;DENY&quot;</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="at">    X-XSS-Protection = &quot;1; mode=block&quot;</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="at">    X-Content-Type-Options = &quot;nosniff&quot;</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="at">    Referrer-Policy = &quot;strict-origin-when-cross-origin&quot;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="at">    Content-Security-Policy = &quot;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;&quot;</span></span></code></pre></div>
<h4 id="environment-variables">Environment Variables</h4>
<pre class="env"><code># Production Environment Variables
VITE_GEMINI_API_KEY=prod_gemini_api_key_here
VITE_NETLIFY_SITE_URL=https://nutreeai.com
VITE_ENVIRONMENT=production
VITE_API_BASE_URL=https://api.nutreeai.com
VITE_SENTRY_DSN=your_sentry_dsn_for_error_tracking</code></pre>
<h3 id="database-setup-future-implementation">3. Database Setup (Future
Implementation)</h3>
<h4 id="postgresql-configuration">PostgreSQL Configuration</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Production database schema</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">DATABASE</span> nutreeai_prod;</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="fu">USER</span> nutreeai_user <span class="kw">WITH</span> <span class="kw">PASSWORD</span> <span class="st">&#39;secure_password&#39;</span>;</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">GRANT</span> <span class="kw">ALL</span> <span class="kw">PRIVILEGES</span> <span class="kw">ON</span> <span class="kw">DATABASE</span> nutreeai_prod <span class="kw">TO</span> nutreeai_user;</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">-- Tables for multi-tenant architecture</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> organizations (</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">id</span> UUID <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">DEFAULT</span> gen_random_uuid(),</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    name <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    subdomain <span class="dt">VARCHAR</span>(<span class="dv">100</span>) <span class="kw">UNIQUE</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    settings JSONB,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    created_at <span class="dt">TIMESTAMP</span> <span class="kw">DEFAULT</span> NOW()</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> nutritionists (</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">id</span> UUID <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">DEFAULT</span> gen_random_uuid(),</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    organization_id UUID <span class="kw">REFERENCES</span> organizations(<span class="kw">id</span>),</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    email <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">UNIQUE</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">profile</span> JSONB,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    created_at <span class="dt">TIMESTAMP</span> <span class="kw">DEFAULT</span> NOW()</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> patient_cases (</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">id</span> UUID <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">DEFAULT</span> gen_random_uuid(),</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    organization_id UUID <span class="kw">REFERENCES</span> organizations(<span class="kw">id</span>),</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    nutritionist_id UUID <span class="kw">REFERENCES</span> nutritionists(<span class="kw">id</span>),</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    patient_data JSONB,</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    status <span class="dt">VARCHAR</span>(<span class="dv">50</span>),</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    created_at <span class="dt">TIMESTAMP</span> <span class="kw">DEFAULT</span> NOW()</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
<h4 id="database-security">Database Security</h4>
<ul>
<li>Enable row-level security (RLS)</li>
<li>Implement data encryption at rest</li>
<li>Configure automated backups</li>
<li>Set up read replicas for scaling</li>
</ul>
<h2 id="security-implementation">üîê Security Implementation</h2>
<h3 id="authentication-authorization">1. Authentication &amp;
Authorization</h3>
<h4 id="netlify-identity-configuration">Netlify Identity
Configuration</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Production identity settings</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;external&quot;</span><span class="op">:</span> {</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;google&quot;</span><span class="op">:</span> {</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;enabled&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;client_id&quot;</span><span class="op">:</span> <span class="st">&quot;your_google_client_id&quot;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;autoconfirm&quot;</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;registration&quot;</span><span class="op">:</span> {</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;open&quot;</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;email&quot;</span><span class="op">:</span> {</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;confirm&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;templates&quot;</span><span class="op">:</span> {</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;confirmation&quot;</span><span class="op">:</span> <span class="st">&quot;custom_confirmation_template&quot;</span><span class="op">,</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;recovery&quot;</span><span class="op">:</span> <span class="st">&quot;custom_recovery_template&quot;</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 id="multi-factor-authentication">Multi-Factor Authentication</h4>
<ul>
<li>Implement TOTP for admin accounts</li>
<li>SMS backup for critical operations</li>
<li>Hardware security key support</li>
</ul>
<h3 id="api-security">2. API Security</h3>
<h4 id="rate-limiting">Rate Limiting</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Implement rate limiting for API endpoints</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> rateLimit <span class="op">=</span> {</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">windowMs</span><span class="op">:</span> <span class="dv">15</span> <span class="op">*</span> <span class="dv">60</span> <span class="op">*</span> <span class="dv">1000</span><span class="op">,</span> <span class="co">// 15 minutes</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">max</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="co">// limit each IP to 100 requests per windowMs</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">message</span><span class="op">:</span> <span class="st">&quot;Too many requests from this IP&quot;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<h4 id="input-validation">Input Validation</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Comprehensive input validation</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> ValidationRules {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  email<span class="op">:</span> <span class="ss">/</span><span class="sc">^[^\s@]+</span><span class="ss">@</span><span class="sc">[^\s@]+\.[^\s@]+$</span><span class="ss">/</span><span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  phone<span class="op">:</span> <span class="ss">/</span><span class="sc">^\+?[\d\s\-\(\)]+$</span><span class="ss">/</span><span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  subdomain<span class="op">:</span> <span class="ss">/</span><span class="sc">^[a-z0-9]([a-z0-9\-]{0,61}[a-z0-9])?$</span><span class="ss">/</span><span class="op">;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="data-protection">3. Data Protection</h3>
<h4 id="encryption">Encryption</h4>
<ul>
<li>Encrypt sensitive data at rest</li>
<li>Use HTTPS for all communications</li>
<li>Implement field-level encryption for PII</li>
</ul>
<h4 id="privacy-compliance">Privacy Compliance</h4>
<ul>
<li>GDPR compliance for EU users</li>
<li>HIPAA compliance for healthcare data</li>
<li>Data retention policies</li>
<li>Right to deletion implementation</li>
</ul>
<h2 id="monitoring-analytics">üìä Monitoring &amp; Analytics</h2>
<h3 id="application-monitoring">1. Application Monitoring</h3>
<h4 id="error-tracking-with-sentry">Error Tracking with Sentry</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Sentry configuration</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> Sentry <span class="im">from</span> <span class="st">&quot;@sentry/react&quot;</span><span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>Sentry<span class="op">.</span><span class="fu">init</span>({</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">dsn</span><span class="op">:</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">VITE_SENTRY_DSN</span><span class="op">,</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">environment</span><span class="op">:</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">VITE_ENVIRONMENT</span><span class="op">,</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">tracesSampleRate</span><span class="op">:</span> <span class="fl">1.0</span><span class="op">,</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h4 id="performance-monitoring">Performance Monitoring</h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Web Vitals tracking</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { getCLS<span class="op">,</span> getFID<span class="op">,</span> getFCP<span class="op">,</span> getLCP<span class="op">,</span> getTTFB } <span class="im">from</span> <span class="st">&#39;web-vitals&#39;</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">sendToAnalytics</span>(metric) {</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Send to your analytics service</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  analytics<span class="op">.</span><span class="fu">track</span>(<span class="st">&#39;Web Vital&#39;</span><span class="op">,</span> {</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">name</span><span class="op">:</span> metric<span class="op">.</span><span class="at">name</span><span class="op">,</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> metric<span class="op">.</span><span class="at">value</span><span class="op">,</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">id</span><span class="op">:</span> metric<span class="op">.</span><span class="at">id</span><span class="op">,</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="fu">getCLS</span>(sendToAnalytics)<span class="op">;</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="fu">getFID</span>(sendToAnalytics)<span class="op">;</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="fu">getFCP</span>(sendToAnalytics)<span class="op">;</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="fu">getLCP</span>(sendToAnalytics)<span class="op">;</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="fu">getTTFB</span>(sendToAnalytics)<span class="op">;</span></span></code></pre></div>
<h3 id="business-analytics">2. Business Analytics</h3>
<h4 id="google-analytics-4-setup">Google Analytics 4 Setup</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">// GA4 configuration</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gtag</span>(<span class="st">&#39;config&#39;</span><span class="op">,</span> <span class="st">&#39;GA_MEASUREMENT_ID&#39;</span><span class="op">,</span> {</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">custom_map</span><span class="op">:</span> {</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;custom_parameter_1&#39;</span><span class="op">:</span> <span class="st">&#39;organization_id&#39;</span><span class="op">,</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;custom_parameter_2&#39;</span><span class="op">:</span> <span class="st">&#39;user_role&#39;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">// Track business events</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="fu">gtag</span>(<span class="st">&#39;event&#39;</span><span class="op">,</span> <span class="st">&#39;case_submitted&#39;</span><span class="op">,</span> {</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;organization_id&#39;</span><span class="op">:</span> orgId<span class="op">,</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;case_type&#39;</span><span class="op">:</span> caseType<span class="op">,</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;value&#39;</span><span class="op">:</span> caseValue</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h4 id="custom-analytics-dashboard">Custom Analytics Dashboard</h4>
<ul>
<li>Organization usage metrics</li>
<li>Revenue tracking</li>
<li>User engagement analytics</li>
<li>Nutritionist performance metrics</li>
</ul>
<h2 id="deployment-process">üöÄ Deployment Process</h2>
<h3 id="automated-cicd-pipeline">1. Automated CI/CD Pipeline</h3>
<h4 id="github-actions-workflow">GitHub Actions Workflow</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># .github/workflows/production.yml</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> Production Deployment</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">main</span><span class="kw">]</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">test</span><span class="kw">:</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ubuntu-latest</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v3</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/setup-node@v3</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">node-version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;18&#39;</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">run</span><span class="kw">:</span><span class="at"> npm ci</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">run</span><span class="kw">:</span><span class="at"> npm run test</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">run</span><span class="kw">:</span><span class="at"> npm run build</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">deploy</span><span class="kw">:</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">needs</span><span class="kw">:</span><span class="at"> test</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ubuntu-latest</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v3</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Deploy to Netlify</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> nwtgck/actions-netlify@v2.0</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">publish-dir</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;./dist&#39;</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">production-branch</span><span class="kw">:</span><span class="at"> main</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">github-token</span><span class="kw">:</span><span class="at"> ${{ secrets.GITHUB_TOKEN }}</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">deploy-message</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Deploy from GitHub Actions&quot;</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">NETLIFY_AUTH_TOKEN</span><span class="kw">:</span><span class="at"> ${{ secrets.NETLIFY_AUTH_TOKEN }}</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">NETLIFY_SITE_ID</span><span class="kw">:</span><span class="at"> ${{ secrets.NETLIFY_SITE_ID }}</span></span></code></pre></div>
<h3 id="blue-green-deployment-strategy">2. Blue-Green Deployment
Strategy</h3>
<h4 id="staging-environment">Staging Environment</h4>
<ul>
<li>Mirror production configuration</li>
<li>Automated testing on staging</li>
<li>Manual approval for production deployment</li>
</ul>
<h4 id="production-deployment">Production Deployment</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Production deployment script</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Build application</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run build</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Run production tests</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run test:production</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Deploy to staging</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="ex">netlify</span> deploy <span class="at">--dir</span><span class="op">=</span>dist <span class="at">--site</span><span class="op">=</span><span class="va">$STAGING_SITE_ID</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Run integration tests on staging</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run test:integration</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Deploy to production (manual approval required)</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="ex">netlify</span> deploy <span class="at">--dir</span><span class="op">=</span>dist <span class="at">--site</span><span class="op">=</span><span class="va">$PRODUCTION_SITE_ID</span> <span class="at">--prod</span></span></code></pre></div>
<h2 id="scaling-considerations">üìà Scaling Considerations</h2>
<h3 id="performance-optimization">1. Performance Optimization</h3>
<h4 id="code-splitting">Code Splitting</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Implement lazy loading for components</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> AdminDashboard <span class="op">=</span> <span class="fu">lazy</span>(() <span class="kw">=&gt;</span> <span class="im">import</span>(<span class="st">&#39;./components/AdminDashboard&#39;</span>))<span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> NutritionistDashboard <span class="op">=</span> <span class="fu">lazy</span>(() <span class="kw">=&gt;</span> <span class="im">import</span>(<span class="st">&#39;./components/NutritionistDashboard&#39;</span>))<span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> OrganizationPortal <span class="op">=</span> <span class="fu">lazy</span>(() <span class="kw">=&gt;</span> <span class="im">import</span>(<span class="st">&#39;./components/WhiteLabelPortal&#39;</span>))<span class="op">;</span></span></code></pre></div>
<h4 id="cdn-configuration">CDN Configuration</h4>
<ul>
<li>Static asset optimization</li>
<li>Image compression and WebP conversion</li>
<li>Gzip compression for text assets</li>
<li>Cache headers optimization</li>
</ul>
<h3 id="database-scaling">2. Database Scaling</h3>
<h4 id="read-replicas">Read Replicas</h4>
<div class="sourceCode" id="cb15"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Configure read replicas for analytics queries</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> REPLICA analytics_replica <span class="kw">FROM</span> nutreeai_prod;</span></code></pre></div>
<h4 id="connection-pooling">Connection Pooling</h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Database connection pooling</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> pool <span class="op">=</span> <span class="kw">new</span> <span class="fu">Pool</span>({</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">connectionString</span><span class="op">:</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">DATABASE_URL</span><span class="op">,</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">max</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">idleTimeoutMillis</span><span class="op">:</span> <span class="dv">30000</span><span class="op">,</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">connectionTimeoutMillis</span><span class="op">:</span> <span class="dv">2000</span><span class="op">,</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h3 id="api-rate-limiting">3. API Rate Limiting</h3>
<h4 id="redis-based-rate-limiting">Redis-based Rate Limiting</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Implement distributed rate limiting</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> redis <span class="op">=</span> <span class="kw">new</span> <span class="fu">Redis</span>(<span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">REDIS_URL</span>)<span class="op">;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">checkRateLimit</span>(userId<span class="op">,</span> endpoint) {</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> key <span class="op">=</span> <span class="vs">`rate_limit:</span><span class="sc">${</span>userId<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span>endpoint<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> current <span class="op">=</span> <span class="cf">await</span> redis<span class="op">.</span><span class="fu">incr</span>(key)<span class="op">;</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (current <span class="op">===</span> <span class="dv">1</span>) {</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> redis<span class="op">.</span><span class="fu">expire</span>(key<span class="op">,</span> <span class="dv">3600</span>)<span class="op">;</span> <span class="co">// 1 hour window</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> current <span class="op">&lt;=</span> <span class="dv">100</span><span class="op">;</span> <span class="co">// 100 requests per hour</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="maintenance-updates">üîß Maintenance &amp; Updates</h2>
<h3 id="regular-maintenance-tasks">1. Regular Maintenance Tasks</h3>
<h4 id="weekly-tasks">Weekly Tasks</h4>
<ul class="task-list">
<li><label><input type="checkbox"></input>Review error logs and fix critical
issues</label></li>
<li><label><input type="checkbox"></input>Update dependencies with security
patches</label></li>
<li><label><input type="checkbox"></input>Monitor performance
metrics</label></li>
<li><label><input type="checkbox"></input>Review user feedback and support
tickets</label></li>
</ul>
<h4 id="monthly-tasks">Monthly Tasks</h4>
<ul class="task-list">
<li><label><input type="checkbox"></input>Security audit and vulnerability
assessment</label></li>
<li><label><input type="checkbox"></input>Performance optimization
review</label></li>
<li><label><input type="checkbox"></input>Database maintenance and
optimization</label></li>
<li><label><input type="checkbox"></input>Backup verification and disaster
recovery testing</label></li>
</ul>
<h3 id="update-process">2. Update Process</h3>
<h4 id="dependency-updates">Dependency Updates</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automated dependency updates</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> audit fix</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> update</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run test</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run build</span></code></pre></div>
<h4 id="feature-rollouts">Feature Rollouts</h4>
<ul>
<li>Feature flags for gradual rollouts</li>
<li>A/B testing for new features</li>
<li>Rollback procedures for failed deployments</li>
</ul>
<h2 id="disaster-recovery">üö® Disaster Recovery</h2>
<h3 id="backup-strategy">1. Backup Strategy</h3>
<h4 id="automated-backups">Automated Backups</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Daily database backups</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pg_dump</span> nutreeai_prod <span class="kw">|</span> <span class="fu">gzip</span> <span class="op">&gt;</span> backup_<span class="va">$(</span><span class="fu">date</span> +%Y%m%d<span class="va">)</span>.sql.gz</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">aws</span> s3 cp backup_<span class="va">$(</span><span class="fu">date</span> +%Y%m%d<span class="va">)</span>.sql.gz s3://nutreeai-backups/</span></code></pre></div>
<h4 id="recovery-procedures">Recovery Procedures</h4>
<ul>
<li>RTO (Recovery Time Objective): 4 hours</li>
<li>RPO (Recovery Point Objective): 1 hour</li>
<li>Automated failover procedures</li>
<li>Data integrity verification</li>
</ul>
<h3 id="incident-response">2. Incident Response</h3>
<h4 id="monitoring-alerts">Monitoring Alerts</h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Critical error alerting</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (errorRate <span class="op">&gt;</span> <span class="dv">5</span><span class="op">%</span> <span class="op">||</span> responseTime <span class="op">&gt;</span> <span class="dv">2000</span>) {</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sendAlert</span>({</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">severity</span><span class="op">:</span> <span class="st">&#39;critical&#39;</span><span class="op">,</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">message</span><span class="op">:</span> <span class="st">&#39;High error rate or slow response time detected&#39;</span><span class="op">,</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">channels</span><span class="op">:</span> [<span class="st">&#39;slack&#39;</span><span class="op">,</span> <span class="st">&#39;email&#39;</span><span class="op">,</span> <span class="st">&#39;sms&#39;</span>]</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 id="response-procedures">Response Procedures</h4>
<ol type="1">
<li>Immediate assessment and triage</li>
<li>Communication to stakeholders</li>
<li>Root cause analysis</li>
<li>Fix implementation and testing</li>
<li>Post-incident review and documentation</li>
</ol>
<h2 id="support-maintenance">üìû Support &amp; Maintenance</h2>
<h3 id="support-channels">1. Support Channels</h3>
<ul>
<li><strong>Technical Support</strong>: support@nutreeai.com</li>
<li><strong>Emergency Hotline</strong>: +1-XXX-XXX-XXXX</li>
<li><strong>Status Page</strong>: status.nutreeai.com</li>
<li><strong>Documentation</strong>: docs.nutreeai.com</li>
</ul>
<h3 id="sla-commitments">2. SLA Commitments</h3>
<ul>
<li><strong>Uptime</strong>: 99.9% availability</li>
<li><strong>Response Time</strong>: &lt; 2 seconds average</li>
<li><strong>Support Response</strong>: &lt; 4 hours for critical
issues</li>
<li><strong>Data Recovery</strong>: &lt; 4 hours RTO, &lt; 1 hour
RPO</li>
</ul>
<h1 id="developer-powerpoint-presentation-production-roadmap">Developer
PowerPoint Presentation: Production Roadmap</h1>
<h2 id="slide-1-title-slide">Slide 1: Title Slide</h2>
<p><strong>Title</strong>: NutreeAI Production Deployment Roadmap
<strong>Subtitle</strong>: Complete Developer Guide for Enterprise
Launch <strong>Presenter</strong>: Development Team Lead
<strong>Date</strong>: Current Date</p>
<h2 id="slide-2-agenda">Slide 2: Agenda</h2>
<ol type="1">
<li>Current Platform Status</li>
<li>Production Requirements</li>
<li>Infrastructure Setup Tasks</li>
<li>Security Implementation</li>
<li>Performance Optimization</li>
<li>Monitoring &amp; Analytics</li>
<li>Deployment Timeline</li>
<li>Post-Launch Maintenance</li>
</ol>
<h2 id="slide-3-current-platform-status">Slide 3: Current Platform
Status ‚úÖ</h2>
<p><strong>Completed Features:</strong> - ‚úÖ Multi-tenant B2B
architecture - ‚úÖ White-label organization portals - ‚úÖ AI-powered
nutrition analysis - ‚úÖ Professional nutritionist workflow - ‚úÖ
Intelligent assignment system - ‚úÖ PDF report generation - ‚úÖ Admin
management dashboard - ‚úÖ Comprehensive testing framework</p>
<h2 id="slide-4-production-requirements-overview">Slide 4: Production
Requirements Overview</h2>
<p><strong>Critical Components Needed:</strong> 1. <strong>Backend
Infrastructure</strong> - Database, API, authentication 2.
<strong>Security Implementation</strong> - HIPAA compliance, data
encryption 3. <strong>Performance Optimization</strong> - CDN, caching,
load balancing 4. <strong>Monitoring Systems</strong> - Error tracking,
analytics, alerts 5. <strong>Deployment Pipeline</strong> - CI/CD,
automated testing 6. <strong>Documentation</strong> - API docs,
deployment guides</p>
<h2 id="slide-5-backend-infrastructure-tasks">Slide 5: Backend
Infrastructure Tasks</h2>
<p><strong>Priority 1 - Database Setup:</strong> - [ ] PostgreSQL
production database - [ ] Multi-tenant data isolation - [ ] Automated
backups and recovery - [ ] Connection pooling and optimization</p>
<p><strong>Priority 2 - API Development:</strong> - [ ] RESTful API for
all frontend operations - [ ] Authentication and authorization - [ ]
Rate limiting and security - [ ] API documentation with Swagger</p>
<h2 id="slide-6-security-implementation-tasks">Slide 6: Security
Implementation Tasks</h2>
<p><strong>HIPAA Compliance Requirements:</strong> - [ ] Data encryption
at rest and in transit - [ ] Audit logging for all user actions - [ ]
Access controls and user permissions - [ ] Business Associate Agreements
(BAAs)</p>
<p><strong>Additional Security:</strong> - [ ] Multi-factor
authentication - [ ] SQL injection prevention - [ ] XSS protection - [ ]
CSRF tokens</p>
<h2 id="slide-7-performance-optimization-tasks">Slide 7: Performance
Optimization Tasks</h2>
<p><strong>Frontend Optimization:</strong> - [ ] Code splitting and lazy
loading - [ ] Image optimization and WebP conversion - [ ] Bundle size
optimization - [ ] Service worker for caching</p>
<p><strong>Backend Optimization:</strong> - [ ] Database query
optimization - [ ] Redis caching layer - [ ] CDN setup for static assets
- [ ] Load balancing configuration</p>
<h2 id="slide-8-monitoring-analytics-setup">Slide 8: Monitoring &amp;
Analytics Setup</h2>
<p><strong>Error Tracking:</strong> - [ ] Sentry integration for error
monitoring - [ ] Custom error boundaries - [ ] Performance monitoring -
[ ] User session recording</p>
<p><strong>Business Analytics:</strong> - [ ] Google Analytics 4 setup -
[ ] Custom event tracking - [ ] Conversion funnel analysis - [ ] Revenue
tracking dashboard</p>
<h2 id="slide-9-deployment-pipeline-tasks">Slide 9: Deployment Pipeline
Tasks</h2>
<p><strong>CI/CD Setup:</strong> - [ ] GitHub Actions workflow - [ ]
Automated testing pipeline - [ ] Staging environment setup - [ ]
Blue-green deployment strategy</p>
<p><strong>Environment Management:</strong> - [ ] Development
environment - [ ] Staging environment - [ ] Production environment - [ ]
Environment variable management</p>
<h2 id="slide-10-development-timeline-12-weeks">Slide 10: Development
Timeline (12 Weeks)</h2>
<p><strong>Weeks 1-3: Backend Foundation</strong> - Database setup and
API development - Authentication system implementation - Basic CRUD
operations</p>
<p><strong>Weeks 4-6: Security &amp; Compliance</strong> - HIPAA
compliance implementation - Security audit and penetration testing -
Data encryption and access controls</p>
<p><strong>Weeks 7-9: Performance &amp; Monitoring</strong> -
Performance optimization - Monitoring system setup - Load testing and
optimization</p>
<p><strong>Weeks 10-12: Deployment &amp; Launch</strong> - Production
deployment - Final testing and bug fixes - Go-live and post-launch
monitoring</p>
<h2 id="slide-11-resource-requirements">Slide 11: Resource
Requirements</h2>
<p><strong>Development Team:</strong> - 1 Backend Developer (12 weeks) -
1 DevOps Engineer (8 weeks) - 1 Security Specialist (4 weeks) - 1 QA
Engineer (6 weeks)</p>
<p><strong>Infrastructure Costs:</strong> - Database hosting: $500/month
- CDN and hosting: $300/month - Monitoring tools: $200/month - Security
tools: $400/month</p>
<h2 id="slide-12-risk-mitigation">Slide 12: Risk Mitigation</h2>
<p><strong>Technical Risks:</strong> - Database performance issues ‚Üí
Load testing and optimization - Security vulnerabilities ‚Üí Regular
audits and updates - Scalability concerns ‚Üí Horizontal scaling
architecture</p>
<p><strong>Business Risks:</strong> - Delayed launch ‚Üí Agile development
with MVP approach - Compliance issues ‚Üí Early legal and compliance
review - Performance problems ‚Üí Continuous monitoring and
optimization</p>
<h2 id="slide-13-success-metrics">Slide 13: Success Metrics</h2>
<p><strong>Technical KPIs:</strong> - 99.9% uptime target - &lt;2 second
page load times - Zero security incidents - &lt;1% error rate</p>
<p><strong>Business KPIs:</strong> - 100 organizations in first 6 months
- $2.5M ARR by end of year 1 - 95% customer satisfaction - 18:1 LTV/CAC
ratio</p>
<h2 id="slide-14-post-launch-maintenance">Slide 14: Post-Launch
Maintenance</h2>
<p><strong>Ongoing Tasks:</strong> - Weekly security updates - Monthly
performance reviews - Quarterly feature releases - Annual security
audits</p>
<p><strong>Support Structure:</strong> - 24/7 monitoring and alerts -
On-call rotation for critical issues - Customer support integration -
Continuous improvement process</p>
<h2 id="slide-15-next-steps-action-items">Slide 15: Next Steps &amp;
Action Items</h2>
<p><strong>Immediate Actions (This Week):</strong> 1. Finalize backend
architecture design 2. Set up development environments 3. Begin database
schema implementation 4. Start security compliance research</p>
<p><strong>Team Assignments:</strong> - Backend Lead: Database and API
design - DevOps Lead: Infrastructure planning - Security Lead:
Compliance requirements - QA Lead: Testing strategy development</p>
<h2 id="slide-16-questions-discussion">Slide 16: Questions &amp;
Discussion</h2>
<p><strong>Key Discussion Points:</strong> - Technology stack decisions
- Third-party service selections - Timeline adjustments - Resource
allocation - Risk assessment and mitigation</p>
<p><strong>Contact Information:</strong> - Project Manager:
pm@nutreeai.com - Technical Lead: tech@nutreeai.com - Security Lead:
security@nutreeai.com</p>
<hr />
<p>This production guide ensures a robust, secure, and scalable
deployment of the NutreeAI platform ready for enterprise customers and
high-volume usage.</p>
</body>
</html>
